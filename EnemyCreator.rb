"""
The enemy constructor provides an all-purpose use to creating any enemy with any statline.
This can be useful for creating a lot of different enemies, and maybe multiple classes of 
similar enemies with small differences (e.g. 5 different slimes that grow in attack)

However, it is tedious to create these enemies
"""
require_relative 'Enemy.rb'

module EnemyCreator


    def self.slime
        
        slime = Enemy.new("Slime", 15, 1, 1, 1, 1, 10, 10)

        xp_bonus = Array.new(4)
        roll_hp, xp_bonus[0] = slime.roll_stat({ 0=>10 , 1=>15, 2=>20 , 3=>20 , 4=>5 , 5=>15 , 6=>10, 7=>5 })
        roll_atk, xp_bonus[1] = slime.roll_stat({ 1=>85 , 2=>15 })
        roll_def, xp_bonus[2] = slime.roll_stat({ 1=>85 , 2=>15 })
        roll_spd, xp_bonus[3] = slime.roll_stat({ 1=>85 , 2=>15 })


        slime.stat_hp += roll_hp
        slime.stat_atk += roll_atk
        slime.stat_def += roll_def
        slime.stat_spd += roll_spd

        for i in xp_bonus
            slime.total_xp += (slime.base_xp * 0.1 * i).ceil()
        end

        text = <<-'EOF'
        @@%*@@@//@%##@     
    @%.,,,,,,,.,,,,,,,.,&%  
   &,,,,,,,,,,,.,,,,,#@@&,,@ 
 @,.,@*.,,*@,,,.,,,@,,,.,#@(@
@,,&,,,,,,,,,,,.,,,,,,,,,,,,@
@,,,&@@&%&*/,,,.,,,,,,%@&,,,@
##,.,.,.,%#%@@@@&(,.,.,.,.,@ 
  @,,,,,,,,,,,,.,,,,,,,,,*@  
   *@%,.,,,,,,,.,,,,,,,&@    
       @@@@#//%#@@@,       
EOF
        slime.set_text(text)
        return slime
    end


    def self.gnome
        gnome = Enemy.new("Gnome", 1, 1, 1, 1, 1, 1, 1)
        text = "gnome_placeholder"
        gnome.set_text(text)
        return gnome
    end


    
    def self.dragon_infinity
        dragon = Enemy.new("Infinity Dragon", 2000, 80, 11, 11, 111, 777, 800)
        
        text = <<-'EOF'
                 (**((,******,(***,   ,                                      ,((**,, ,,(((#((,.
            (*****(******************,****,                                ,*****,*#********,,,,,,,.,
        ,##((******************************,/*(,                         ,**************************,,,,,
       /******************************************,                    ,************************************(
   /*******************#%%%%#(******************,,(#                ,*,**********#*,,**********************,  ,
  ,************%%%%%%#        %%%%#*****************,             .*************(*,     ,,*******************
,************%%%#                   %%***************,,         ,******,********((,            ,****************
,***********%%%                         %#***************,    **,******, ,******,                 .***************,
,**********#%%                             %(*************,,  ,****,*,,    ,****,                    ,**************,
,*********%%                                 %***************, *,  ,        ****,                     ,%************* 
,**********%                                    #***************,    #       ,*(,                       ,%************,
,*********%%                                      %*************(*,./     ,,*((*                        ,%*************
*********%                                         ***********%#***,                                   ,%*************
**********                                           *****#%**/#*****,                                 ,%************,
**********%                                           ,/**#(***********,                              ,%%************
,**********/                                         .#(,*##************#,                           ,%%************,
***********/                                     #   %.  ****************#,                       ,%%%*************
************                                (  /#   %     *****************%,                 ,/%%%**************   
 .************                             ,*  *#           ******************%%%%,,,,,,,,/%%%%%***************,    
   ,*************                                             ,***********************///********************,      
      ******************                                        .******************************************,        
         ******************,,..   ..  ...                          **************************************           
             **************,*/**  *** *                               ,******************************,
                    **********//                                           ********************,.
EOF
        dragon.set_text(text)
        return dragon
    end
end