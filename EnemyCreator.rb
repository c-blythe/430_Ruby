"""
The enemy constructor provides an all-purpose use to creating any enemy with any statline.
This can be useful for creating a lot of different enemies, and maybe multiple classes of 
similar enemies with small differences (e.g. 5 different slimes that grow in attack)

However, it is tedious to create these enemies
"""
require_relative "./Enemy.rb"

module EnemyCreator


    def self.slime
        
        enemy = Enemy.new("Slime", 25, 1, 1, 1, 3, 5)

        xp_bonus = Array.new(3)
        roll_hp, xp_bonus[0] = enemy.roll_stat([ 10 , 7 , 3])
        roll_atk, xp_bonus[1] = enemy.roll_stat([ 1 ])
        roll_def, xp_bonus[2] = enemy.roll_stat([ 19 , 1 ])
        enemy.stat_hp += roll_hp
        enemy.stat_atk += roll_atk
        enemy.stat_def += roll_def

        for i in xp_bonus
          enemy.xp += (enemy.base_xp * 0.1 * i).ceil()
        end

        text = <<-'EOF'
        @@%*@@@//@%##@     
    @%.,,,,,,,.,,,,,,,.,&%  
   &,,,,,,,,,,,.,,,,,#@@&,,@ 
 @,.,@*.,,*@,,,.,,,@,,,.,#@(@
@,,&,,,,,,,,,,,.,,,,,,,,,,,,@
@,,,&@@&%&*/,,,.,,,,,,%@&,,,@
##,.,.,.,%#%@@@@&(,.,.,.,.,@ 
  @,,,,,,,,,,,,.,,,,,,,,,*@  
   *@%,.,,,,,,,.,,,,,,,&@    
       @@@@#//%#@@@,       
EOF
        enemy.set_text(text)
        return enemy
    end


    def self.gnome
        enemy = Enemy.new("Gnome", 20, 1, 3, 3, 5, 10)

        xp_bonus = Array.new(3)
        roll_hp, xp_bonus[0] = enemy.roll_stat([ 3 , 4 , 4 , 3 , 3 , 2 , 1 ])
        roll_atk, xp_bonus[1] = enemy.roll_stat([ 17 , 3 ])
        roll_def, xp_bonus[2] = enemy.roll_stat([ 17 , 3 ])
        enemy.stat_hp += roll_hp
        enemy.stat_atk += roll_atk
        enemy.stat_def += roll_def

        puts(xp_bonus.length())

        for i in xp_bonus
          enemy.xp += (enemy.base_xp * 0.3 * i.to_f).ceil()
        end

        text = <<-'EOF'       
     %%%%%%   
    %  %%%%%%%%                                                                
        %%%%%%%%%%&
        %%%%%%%%%%%%%#
       #&*,,,,,,,,,,,,
       **,,,,,***/**,,
        *,,**,*/****,,
      %@&/*,,,**//*,,,
    @&@@@@@,,,,,,,,,,,@&@,
   &&@@@@&&@@/,,,,,,,@@&(****/(/
   &,****#@&@&&&&&&&&,@@@  *  .
     **/%**@@&&&&&&&#
       .&#&&&&@&&&&&
        &&&&&%@&&&&
         %%%%(%&&&%
        #@@@@@@@@@@
      .,,@@@@,(@@@ ....
.,,,,,,,,#@@@@&@@@@@@@ ,,,.....
...,,,,,,...(&@@@@......,,,.......
EOF
        enemy.set_text(text)
        return enemy
    end


    def self.bear
      enemy = Enemy.new("Wild Bear", 40, 2, 3, 5, 7, 30)

      xp_bonus = Array.new(3)
      roll_hp, xp_bonus[0] = enemy.roll_stat([ 0 , 0 , 0 , 0 , 4 , 4 , 4 , 4 ])
      roll_atk, xp_bonus[1] = enemy.roll_stat([ 3 , 17 ])
      roll_def, xp_bonus[2] = enemy.roll_stat([ 0 , 20 ])
      enemy.stat_hp += roll_hp
      enemy.stat_atk += roll_atk
      enemy.stat_def += roll_def

      puts(xp_bonus.length())

      for i in xp_bonus
        enemy.xp += (enemy.base_xp * 0.3 * i.to_f).ceil()
      end

      text = <<-'EOF'       
                                  # .   **/(//*#                 
                           //#/(///(*  // %#. */(///(#(#((/(/*..**              
                       (####((#%##(*/////* //(#((%((#%#((  * .   ... ..**/( /((%(
                  ((%%#%%%&&%##((#(/*//*/(%#%#%%%#&#((((*##&&&////((##//*/*#&@&(
               *#(#%%&&&@@@(((#(#%(/( /(##&#%%&&%%#(#(###/%&(%/#(//###&(#//%&%&/
            **//#&&&@&@@@&####(#((#//*/(%&&&&&##%&%%%#(%&///#(&##%&%(##%#(###%# 
         /*((/(#&%&%%@@@&%###(#(##((///&&%&%&%&%%&&&%%##/((#/(##%#%(&#%##%@@%&%&
        /*/##(##&#%&%&@%%####(###(#((%%%@%&%@(%%@&%#(###(///(((@&&&&&%#* /(%&@& 
       %(/(#%##(##%&%@@%%##%%%%&#%%#%%&&%%&%&#%&@&#&&(%(/##&&(#&&&@&%/ ( ##(@%  
       //%#%(%&%&#&&&&&&%%#&#%%%%%&(%&@%@#&##@@@@@&%@%#&#&&&&%#@@@@&//*%%@@@@   
       (#%#%%#%@&%@&&@@&&&&&&&&%%%#%%#@&&#&@&@@@@@@@@@@&&&&&@@@&@@@%&&&&@@@@&   
      %/##%%#&&&&&@@@@&@@@&@@@@%&%(%%&&&&%%@@@@@@@@@@@@@@@@@@@@@@@&&@&@@@@      
       *%&%%&%%&@&@@@@@@@@&@@@@&@##&&&%&@%&&@&@@@@@@@@@@@@@@@@@@@@@@@@@@@/      
       /#&&@@@&@@@@@@@@@@@@@@@@@&#%%@&@@@@@&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&      
       #&%@@&@@@@@@@@@@@@@@@@@@@&&&&@@@@@@@@@@@@@@@@@*   /@@@@@@@@@@@@@@@&      
     (#&&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@@@@@%      
   &#&&@@@@@@@@@@@@@@@@@@@@@@@@@@&@@@@@@@@@@@@@@@          @@@@@@@@@@@@@@@      
 %%&@@@@@@@@@@@@@@@@@@@@@@@@@@@@ &@@@@@@@@@@@@@            @@@@@@@@@@@@@@&      
%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  &@@@@@@@@@@@@             @@@@@@@@@@@@@@       
 @@@@@@@@@@@@      &@@@@@@@@@@    @@@@@@@@@@@&              &@@@@@@@@@@@&       
 @@@@@@@@@         &@@@@@@@@@(     @@@@@@@@@@(               @@@@@@@@@@@@       
  @@@@@@@@#        &@@@@@@@@@       @@@@@@@@@                  @@@@@@@@@        
    @@@@@@@        &@@@@@@@@         @@@@@@@@@                  @@@@@@@@@@      
        /@@        /@@@@@@@@@@@@      @@@@@@@@@%                    /@%@%#@%@   
                       (##@(                (&@(
EOF
      enemy.set_text(text)
      return enemy
  end

    
    def self.dragon_infinity
        enemy = Enemy.new("Ouroboros", 2000, 80, 11, 111, 777, 800)
        roll_hp, xp_bonus[0] = enemy.roll_stat([ 1 ])
        roll_atk, xp_bonus[1] = enemy.roll_stat([ 1 ])
        roll_def, xp_bonus[2] = enemy.roll_stat([ 1 ])
        text = <<-'EOF'
                 (**((,******,(***,   ,                                      ,((**,, ,,(((#((,.
            (*****(******************,****,                                ,*****,*#********,,,,,,,.,
        ,##((******************************,/*(,                         ,**************************,,,,,
       /******************************************,                    ,************************************(
   /*******************#%%%%#(******************,,(#                ,*,**********#*,,**********************,  ,
  ,************%%%%%%#        %%%%#*****************,             .*************(*,     ,,*******************
,************%%%#                   %%***************,,         ,******,********((,            ,****************
,***********%%%                         %#***************,    **,******, ,******,                 .***************,
,**********#%%                             %(*************,,  ,****,*,,    ,****,                    ,**************,
,*********%%                                 %***************, *,  ,        ****,                     ,%************* 
,**********%                                    #***************,    #       ,*(,                       ,%************,
,*********%%                                      %*************(*,./     ,,*((*                        ,%*************
*********%                                         ***********%#***,                                   ,%*************
**********                                           *****#%**/#*****,                                 ,%************,
**********%                                           ,/**#(***********,                              ,%%************
,**********/                                         .#(,*##************#,                           ,%%************,
***********/                                     #   %.  ****************#,                       ,%%%*************
************                                (  /#   %     *****************%,                 ,/%%%**************   
 .************                             ,*  *#           ******************%%%%,,,,,,,,/%%%%%***************,    
   ,*************                                             ,***********************///********************,      
      ******************                                        .******************************************,        
         ******************,,..   ..  ...                          **************************************           
             **************,*/**  *** *                               ,******************************,
                    **********//                                           ********************,.
EOF
        enemy.set_text(text)
        return enemy
    end
end